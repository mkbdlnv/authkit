# authkit
This is universal go module for implementing authorization for go projects

go-authkit/
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ README.md
â”œâ”€â”€ LICENSE
â”œâ”€â”€ .gitignore
â”‚
â”œâ”€â”€ pkg/                      # ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ API
â”‚   â””â”€â”€ authkit.go            # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°, ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ° Authenticator
â”‚
â”œâ”€â”€ internal/                 # Ğ’Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğµ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”œâ”€â”€ auth/                 # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° (Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Authenticator)
â”‚   â”‚   â”œâ”€â”€ service.go
â”‚   â”‚   â”œâ”€â”€ interface.go      # Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Authenticator
â”‚   â”‚   â”œâ”€â”€ models.go         # RegisterInput, LoginInput, User, TokenPair Ğ¸ Ñ‚.Ğ¿.
â”‚   â”‚   â””â”€â”€ errors.go         # ĞŸÑ€ĞµĞ´Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»Ñ‘Ğ½Ğ½Ñ‹Ğµ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ token/                # Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ access/refresh Ñ‚Ğ¾ĞºĞµĞ½Ğ°Ğ¼Ğ¸
â”‚   â”‚   â”œâ”€â”€ interface.go      # TokenManager interface
â”‚   â”‚   â”œâ”€â”€ jwt.go            # Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° JWT (HS256)
â”‚   â”‚   â””â”€â”€ jwt_rs256.go      # (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾) Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° RS256
â”‚   â”‚
â”‚   â”œâ”€â”€ hasher/               # Ğ¥ÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹
â”‚   â”‚   â”œâ”€â”€ interface.go      # Hasher interface
â”‚   â”‚   â””â”€â”€ bcrypt.go         # Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· bcrypt
â”‚   â”‚
â”‚   â”œâ”€â”€ userstore/            # ĞĞ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ñ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
â”‚   â”‚   â”œâ”€â”€ interface.go      # UserStore interface
â”‚   â”‚   â”œâ”€â”€ inmemory.go       # ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ in-memory
â”‚   â”‚   â””â”€â”€ postgres.go       # (Ğ¿Ğ¾Ğ·Ğ¶Ğµ) Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° PostgreSQL
â”‚   â”‚
â”‚   â””â”€â”€ logger/               # Ğ›Ğ¾Ğ³Ğ³ĞµÑ€
â”‚       â”œâ”€â”€ interface.go      # Logger interface
â”‚       â””â”€â”€ stdlog.go         # ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ Ğ»Ğ¾Ğ³Ğ³ĞµÑ€
â”‚
â”œâ”€â”€ examples/                 # ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸
â”‚   â””â”€â”€ gin-server/           # ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ REST API Ñ Gin
â”‚       â”œâ”€â”€ main.go
â”‚       â””â”€â”€ handler.go
â”‚
â”œâ”€â”€ test/                     # Ğ¢ĞµÑÑ‚Ñ‹
â”‚   â”œâ”€â”€ auth_test.go
â”‚   â”œâ”€â”€ token_test.go
â”‚   â””â”€â”€ integration_test.go
â”‚
â””â”€â”€ mocks/                    # ĞœĞ¾ĞºĞ¸ Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²
    â”œâ”€â”€ userstore_mock.go
    â”œâ”€â”€ token_mock.go
    â””â”€â”€ hasher_mock.go

## ğŸ“Œ Ğ˜Ñ‚Ğ¾Ğ³Ğ¾: Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹
ĞÑ‡ĞµÑ€ĞµĞ´ÑŒ	ĞœĞ¾Ğ´ÑƒĞ»ÑŒ	Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµÑ‚
1	hasher	Ğ¥ÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹ (bcrypt)
2	token	JWT Ğ¸Ğ»Ğ¸ RS256
3	userstore	In-memory storage
4	logger	Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ + Ğ¿Ñ€Ğ¾ÑÑ‚Ğ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
5	auth	Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°, Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ API
6	pkg/	Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ² Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ
7	examples/	ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸
8	test/	Ğ¢ĞµÑÑ‚Ñ‹, Ğ¼Ğ¾ĞºĞ¸